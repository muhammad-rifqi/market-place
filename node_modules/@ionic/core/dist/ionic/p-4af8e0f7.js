import"./p-0af5fad6.js";import{c as t}from"./p-9e5c3bfc.js";const o=(t,o="top")=>`calc(${t}px + var(--ion-safe-area-${o}))`,n=t=>document.querySelector(`${t}.ion-cloned-element`),a=t=>t.shadowRoot||t,e=t=>t.querySelector("ion-header:not(.header-collapse-condense-inactive) ion-title[size=large]"),s=(t,o)=>{const n=t.querySelectorAll("ion-buttons");for(const a of n){const t=a.closest("ion-header"),n=t&&!t.classList.contains("header-collapse-condense-inactive"),e=a.querySelector("ion-back-button"),s=a.classList.contains("buttons-collapse");if(null!==e&&(s&&n&&o||!s))return e}return null},r=(a,e,s,r)=>{const c=r.getBoundingClientRect(),i=e?`calc(100% - ${c.right+4}px)`:`${c.left-4}px`,l=e?"7px":"-7px",f=e?"-4px":"4px",p=e?"-4px":"4px",$=e?"right":"left",d=e?"left":"right",m=[{offset:0,opacity:0,transform:`translate(${l}, ${o(8)}) scale(2.1)`},{offset:1,opacity:1,transform:`translate(${f}, ${o(-40)}) scale(1)`}],b=[{offset:0,opacity:1,transform:`translate(${f}, ${o(-40)}) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate(${l}, ${o(8)}) scale(2.1)`}],u=s?b:m,y=[{offset:0,opacity:0,transform:`translate3d(${p}, ${o(-35)}, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${p}, ${o(-40)}, 0) scale(1)`}],X=[{offset:0,opacity:1,transform:`translate(${p}, ${o(-40)}) scale(1)`},{offset:.2,opacity:0,transform:`translate(${p}, ${o(-35)}) scale(0.6)`},{offset:1,opacity:0,transform:`translate(${p}, ${o(-35)}) scale(0.6)`}],h=s?X:y,x=t(),g=t(),k=n("ion-back-button"),v=k.querySelector(".button-text"),w=k.querySelector("ion-icon");k.text=r.text,k.mode=r.mode,k.icon=r.icon,k.color=r.color,k.disabled=r.disabled,k.style.setProperty("display","block"),k.style.setProperty("position","fixed"),g.addElement(w),x.addElement(v),x.beforeStyles({"transform-origin":`${$} center`}).beforeAddWrite(()=>{r.style.setProperty("display","none"),k.style.setProperty($,i)}).afterAddWrite(()=>{r.style.setProperty("display",""),k.style.setProperty("display","none"),k.style.removeProperty($)}).keyframes(u),g.beforeStyles({"transform-origin":`${d} center`}).keyframes(h),a.addAnimation([x,g])},c=(a,e,s,r)=>{const c=r.getBoundingClientRect(),i=e?`calc(100% - ${c.right}px)`:`${c.left}px`,l=e?"-18px":"18px",f=e?"right":"left",p=[{offset:0,opacity:0,transform:`translate(${l}, ${o(0)}) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate(0, ${o(49)}) scale(1)`}],$=[{offset:0,opacity:.99,transform:`translate(0, ${o(49)}) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate(${l}, ${o(0)}) scale(0.5)`}],d=s?p:$,m=n("ion-title"),b=t();m.innerText=r.innerText,m.size=r.size,m.color=r.color,b.addElement(m),b.beforeStyles({"transform-origin":`${f} center`,height:"46px",display:"",position:"relative",[f]:i}).beforeAddWrite(()=>{r.style.setProperty("display","none")}).afterAddWrite(()=>{r.style.setProperty("display",""),m.style.setProperty("display","none")}).keyframes(d),a.addAnimation(b)},i=(o,n)=>{try{const i="cubic-bezier(0.32,0.72,0,1)",l="opacity",f="transform",p="0%",$=.8,d="rtl"===o.ownerDocument.dir,m=d?"-99.5%":"99.5%",b=d?"33%":"-33%",u=n.enteringEl,y=n.leavingEl,X="back"===n.direction,h=u.querySelector(":scope > ion-content"),x=u.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),g=u.querySelectorAll(":scope > ion-header > ion-toolbar"),k=t(),v=t();if(k.addElement(u).duration(n.duration||540).easing(n.easing||i).fill("both").beforeRemoveClass("ion-page-invisible"),y&&o){const n=t();n.addElement(o),k.addAnimation(n)}if(h||0!==g.length||0!==x.length?(v.addElement(h),v.addElement(x)):v.addElement(u.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),k.addAnimation(v),X?v.beforeClearStyles([l]).fromTo("transform",`translateX(${b})`,`translateX(${p})`).fromTo(l,$,1):v.beforeClearStyles([l]).fromTo("transform",`translateX(${m})`,`translateX(${p})`),h){const o=a(h).querySelector(".transition-effect");if(o){const n=o.querySelector(".transition-cover"),a=o.querySelector(".transition-shadow"),e=t(),s=t(),r=t();e.addElement(o).beforeStyles({opacity:"1"}).afterStyles({opacity:""}),s.addElement(n).beforeClearStyles([l]).fromTo(l,0,.1),r.addElement(a).beforeClearStyles([l]).fromTo(l,.03,.7),e.addAnimation([s,r]),v.addAnimation([e])}}const w=u.querySelector("ion-header.header-collapse-condense"),{forward:T,backward:j}=((t,o,n,a,i)=>{const l=s(a,n),f=e(i),p=e(a),$=s(i,n),d=null!==l&&null!==f&&!n,m=null!==p&&null!==$&&n;return d?(c(t,o,n,f),r(t,o,n,l)):m&&(c(t,o,n,p),r(t,o,n,$)),{forward:d,backward:m}})(k,d,X,u,y);if(g.forEach(o=>{const n=t();n.addElement(o),k.addAnimation(n);const e=t();e.addElement(o.querySelector("ion-title"));const s=t(),r=Array.from(o.querySelectorAll("ion-buttons,[menuToggle]")),c=o.closest("ion-header"),i=c&&c.classList.contains("header-collapse-condense-inactive");let f;f=r.filter(X?t=>{const o=t.classList.contains("buttons-collapse");return o&&!i||!o}:t=>!t.classList.contains("buttons-collapse")),s.addElement(f);const $=t();$.addElement(o.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const u=t();u.addElement(a(o).querySelector(".toolbar-background"));const y=t(),h=o.querySelector("ion-back-button");if(h&&y.addElement(h),n.addAnimation([e,s,$,u,y]),s.fromTo(l,.01,1),$.fromTo(l,.01,1),X)i||e.fromTo("transform",`translateX(${b})`,`translateX(${p})`).fromTo(l,.01,1),$.fromTo("transform",`translateX(${b})`,`translateX(${p})`),y.fromTo(l,.01,1);else if(w||e.fromTo("transform",`translateX(${m})`,`translateX(${p})`).fromTo(l,.01,1),$.fromTo("transform",`translateX(${m})`,`translateX(${p})`),u.beforeClearStyles([l]).fromTo(l,.01,1),T||y.fromTo(l,.01,1),h&&!T){const o=t();o.addElement(a(h).querySelector(".button-text")).fromTo("transform",d?"translateX(-100px)":"translateX(100px)","translateX(0px)"),n.addAnimation(o)}}),y){const o=t(),n=y.querySelector(":scope > ion-content");if(o.addElement(n),o.addElement(y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *")),k.addAnimation(o),X?o.beforeClearStyles([l]).fromTo("transform",`translateX(${p})`,d?"translateX(-100%)":"translateX(100%)"):o.fromTo("transform",`translateX(${p})`,`translateX(${b})`).fromTo(l,1,$),n){const e=a(n).querySelector(".transition-effect");if(e){const n=e.querySelector(".transition-cover"),a=e.querySelector(".transition-shadow"),s=t(),r=t(),c=t();s.addElement(e).beforeStyles({opacity:"1"}).afterStyles({opacity:""}),r.addElement(n).beforeClearStyles([l]).fromTo(l,.1,0),c.addElement(a).beforeClearStyles([l]).fromTo(l,.7,.03),s.addAnimation([r,c]),o.addAnimation([s])}}y.querySelectorAll(":scope > ion-header > ion-toolbar").forEach(o=>{const n=t();n.addElement(o);const e=t();e.addElement(o.querySelector("ion-title"));const s=t(),r=o.querySelectorAll("ion-buttons,[menuToggle]"),c=o.closest("ion-header"),i=c&&c.classList.contains("header-collapse-condense-inactive"),$=Array.from(r).filter(t=>{const o=t.classList.contains("buttons-collapse");return o&&!i||!o});s.addElement($);const m=t(),u=o.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");u.length>0&&m.addElement(u);const y=t();y.addElement(a(o).querySelector(".toolbar-background"));const h=t(),x=o.querySelector("ion-back-button");if(x&&h.addElement(x),n.addAnimation([e,s,m,h,y]),k.addAnimation(n),h.fromTo(l,.99,0),s.fromTo(l,.99,0),m.fromTo(l,.99,0),X){if(i||e.fromTo("transform",`translateX(${p})`,d?"translateX(-100%)":"translateX(100%)").fromTo(l,.99,0),m.fromTo("transform",`translateX(${p})`,d?"translateX(-100%)":"translateX(100%)"),y.beforeClearStyles([l]).fromTo(l,1,.01),x&&!j){const o=t();o.addElement(a(x).querySelector(".button-text")).fromTo("transform",`translateX(${p})`,`translateX(${(d?-124:124)+"px"})`),n.addAnimation(o)}}else i||e.fromTo("transform",`translateX(${p})`,`translateX(${b})`).fromTo(l,.99,0).afterClearStyles([f,l]),m.fromTo("transform",`translateX(${p})`,`translateX(${b})`).afterClearStyles([f,l]),h.afterClearStyles([l]),e.afterClearStyles([l]),s.afterClearStyles([l])})}return k}catch(i){throw i}};export{i as iosTransitionAnimation,a as shadow};